create or replace PROCEDURE        P_IN_EDIT_CT(
P_CT_ID CENTRO_TRABAJO.ID_CENTRO%TYPE,
P_CT_NOMBRE CENTRO_TRABAJO.NOMBRE%TYPE,
P_CT_CALLE CENTRO_TRABAJO.CALLE%TYPE,
P_CT_NUMERO CENTRO_TRABAJO."NÚMERO"%TYPE,
P_CT_CP CENTRO_TRABAJO."CÓDIGO_POSTAL"%TYPE,
P_CT_CIUDAD CENTRO_TRABAJO.CIUDAD%TYPE,
P_CT_PROVINCIA CENTRO_TRABAJO.PROVINCIA%TYPE,
P_CT_TELEFONO CENTRO_TRABAJO."TELÉFONO"%TYPE)
AS
BEGIN
      UPDATE CENTRO_TRABAJO
      SET
            NOMBRE=p_CT_NOMBRE,
            CALLE=p_CT_CALLE,
            NÚMERO=p_CT_NUMERO,
            CÓDIGO_POSTAL=P_CT_CP,
            CIUDAD = P_CT_CIUDAD,
            PROVINCIA = P_CT_PROVINCIA,
            TELÉFONO = P_CT_TELEFONO
      where ID_CENTRO=p_CT_ID;
IF sql%notfound
THEN
INSERT INTO CENTRO_TRABAJO(ID_CENTRO, NOMBRE, CALLE, "NÚMERO", "CÓDIGO_POSTAL", CIUDAD, PROVINCIA, "TELÉFONO")
VALUES (P_CT_ID, P_CT_NOMBRE, P_CT_CALLE, P_CT_NUMERO, P_CT_CP, P_CT_CIUDAD, P_CT_PROVINCIA, P_CT_TELEFONO);
COMMIT;
END IF;
END;

create or replace PROCEDURE        P_DELETE_CT(
P_CT_ID CENTRO_TRABAJO.ID_CENTRO%TYPE)
AS
BEGIN
      DELETE FROM CENTRO_TRABAJO WHERE ID_CENTRO=p_CT_ID;
COMMIT;
END;

create or replace PROCEDURE  P_IN_EDIT_TRABAJADOR(
P_T_ID TRABAJADOR.ID_TRABAJADOR%TYPE,
P_T_DNI TRABAJADOR.DNI%TYPE,
P_T_NOMBRE TRABAJADOR.NOMBRE%TYPE,
P_T_APE1 TRABAJADOR.APELLIDO_1%TYPE,
P_T_APE2 TRABAJADOR.APELLIDO_2%TYPE,
P_T_CALLE TRABAJADOR.CALLE%TYPE,
P_T_PORTAL TRABAJADOR.PORTAL%TYPE,
P_T_PISO TRABAJADOR.PISO%TYPE,
P_T_MANO TRABAJADOR.MANO%TYPE,
P_T_TP TRABAJADOR.TELEFONO_PERSONAL%TYPE,
P_T_ME TRABAJADOR.MOVIL_EMPRESA%TYPE,
P_T_SALARIO TRABAJADOR.SALARIO%TYPE,
P_T_FN TRABAJADOR.FECHA_NACIMIENTO%TYPE,
P_T_CATE TRABAJADOR."CATEGORÍA"%TYPE,
P_T_CT TRABAJADOR.CENTRO_TRABAJO_ID_CENTRO%TYPE)
AS
BEGIN
      UPDATE TRABAJADOR
      SET
            DNI = P_T_DNI,
            NOMBRE = P_T_NOMBRE,
            APELLIDO_1 = P_T_APE1,
            APELLIDO_2 = P_T_APE2,
            CALLE = P_T_CALLE,
            PORTAL = P_T_PORTAL,
            PISO = P_T_PISO,
            MANO = P_T_MANO,
            TELEFONO_PERSONAL = P_T_TP,
            MOVIL_EMPRESA = P_T_ME,
            SALARIO = P_T_SALARIO,
            FECHA_NACIMIENTO = P_T_FN,
            CATEGORÍA = P_T_CATE,
            CENTRO_TRABAJO_ID_CENTRO = P_T_CT

      where ID_TRABAJADOR = P_T_ID;

IF sql%notfound
THEN
INSERT INTO TRABAJADOR(ID_TRABAJADOR, DNI, NOMBRE, APELLIDO_1, APELLIDO_2, CALLE, PORTAL, PISO,
MANO, TELEFONO_PERSONAL, MOVIL_EMPRESA, SALARIO, FECHA_NACIMIENTO, "CATEGORÍA", CENTRO_TRABAJO_ID_CENTRO)
VALUES (P_T_ID, P_T_DNI, P_T_NOMBRE, P_T_APE1, P_T_APE2, P_T_CALLE, P_T_PORTAL, P_T_PISO, P_T_MANO,
P_T_TP, P_T_ME, P_T_SALARIO, P_T_FN, P_T_CATE, P_T_CT);
COMMIT;
END IF;
END;

create or replace PROCEDURE P_DELETE_TRABAJADOR(
P_T_ID TRABAJADOR.ID_TRABAJADOR%TYPE)
AS
BEGIN
      DELETE FROM TRABAJADOR WHERE ID_TRABAJADOR = P_T_ID;
COMMIT;
END;
